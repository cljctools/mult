
- should be possible
  - have multiple repl connections from an editor window
  - every repl tab has a list of connections (1 or more)
  - every tab has a (savable in settings) switch which runtime to prefer for cljc files - clj or cljs
  - when switching between files, tab switches namesapces if they are relevant to connections
  - these settings (sets of connections and preferred runtimes for cljc) are savable in workspace's .vsocde/settings
  - point is: one editor window should allow for 
    - seemless navigation between clj cljs cljc files 
    - evaluation of forms in their respective runtimes and connections
  - configuration file(s) should be part of the repo
    - saved, e.g. in .vscode/mult.edn
  - when opening repo in vscode, mult reads config(s) and sets up all connections and repl tabs 
    - * if user chooses 'set everything up as in config'
  - mult exposes a menu with all this options (in a tab, or dropdown after press)
    - you shouldn't have to know secret keybindings to get a list of available options(actions)
  - evaluation2
    - should be always possible (besides automatic/config):
      - open mult tab, add connections (connections are uris)
      - mult will switch connections when files change
      - but: tab may have a list of connections (like tags) on top, user can always override and select a connection
      - if so, anything from anywhere when evaluated in this tab, is sent to that connection
      - or user can by clicking switch tab to the another connection
      - or user can switch to default behavior
      - point is: user has full control over connections
        - they don't result from keycombo-popups
        - autodetection (if any) is secondary to: config, specifying connections as strings
        - connections are just connections and can be added/removed to/from repl tab(s)



- mult.edn 
  - is either in .vscode/mult.edn or in ~/mult.edn
  - has :connections :repls :tabs
- connection
  - physical socket (as of now nrepl) connections
  - knows how to connect, send,receive
  - from system perspective, a channel
- repl
  - logical repls: one actual connection may have multiple repls (e.g. shadow-cljs)
  - knows how to switch the connection to itself
  - knows nrepl or other operations: eval etc
- connection and repl
  - connections are established via a click or if :connect/auto? true
  - when first eval happens, repl tries using the specified connection : conn channel is the arg to repl
  - no init-ns in config: once mult opens, it works as should: gets the current file and corresponding lrepl and switch to that ns in that lrepl
- tab
  - an app that knows ho to append data
  - shows logical repls as a line in the top, active repl is underlined
  - repls which connections are off are grey,  otherwise color is green or smth
  - has a settings button (top-right) that shows a list of all connections (from mult.edn) with connect/disconnect buttons
  - divs
    - slim header shows lrepl
    - next printitng div that has scroll
    - input div (console):
      - should be a file with editing working as in any file (e.g. a tmp,per serssion file)
      - so that when typing into it you are actually editing code in an editor file

